\section{The \JoinCalc}

infinite set of channel names
$ \mathcal{N} = \{ x, y, z, u, v, \kappa, \ldots \} $

$ \tilde{x}, \tilde{y}, \ldots $ for tuples of names

\begin{JDef}{grammar of the \joincalc}
  P, Q
  \grmr \jsnd{x}{v_1, \dots, v_n}
  \altn \jdef{D}{P}
  \altn P \jpar Q
  \altn \jnullproc
  \\ \\
  D, E
  \grmr \jrct{J}{P}
  \altn D \jcon E
  \altn \jnulldef
  \\ \\
  J, K
  \grmr \jrcv{x}{v_1, \dots, v_n}
  \altn J \jpat K
\end{JDef}

received names in an elementary clause are all different


\subsection{The Core \JoinCalc}

\begin{JDef}{grammar of \monadicjoincalc}
  P, Q
  \grmr \jsnd{x}{u}
  \altn P \jpar Q
  \altn \jdef{\jrct{\jrcv{x}{u} \jpat \jrcv{y}{v}}{P}}{Q}
\end{JDef}


\subsection{The \JoinCalc with Locations}

infinite set of location names
$ \mathcal{L} = \{ a, b, c, \ldots \} $

These can also be sent and received:
$ v \in \mathcal{N} \cup \mathcal{L} $


\begin{JDef}{grammar of the \joincalc with locations}
  P, Q
  \grmr \jsnd{x}{v_1, \dots, v_n}
  \altn \jdef{D}{P}
  \altn P \jpar Q
  \altn \jnullproc
  \altn \jgo{b}{\kappa}
  \\ \\
  D, E
  \grmr \jrct{J}{P}
  \altn D \jcon E
  \altn \jnulldef
  \altn \jloc{a}{D}{P}
  \\ \\
  J, K
  \grmr \jrcv{x}{v_1, \dots, v_n}
  \altn J \jpat K
\end{JDef}

Two syntactic restrictions:
\begin{itemize}
  \item a location $a$ can only be defined once in any definition $D$
  \item a defined channel $x$ may only appear in the join patterns of one location
\end{itemize}

\begin{align*}
  \chamred{comm}{(x \in \dv{J})}{
    \chamcnf{\phi}{}{\jsnd{x}{\tilde{v}}}
    \champar
    \chamcnf{}{\jrct{J}{P}}{}
  }{
    \chamcnf{\phi}{}{}
    \champar
    \chamcnf{}{\jrct{J}{P}}{\jsnd{x}{\tilde{v}}}
  }
  \\
  \chamequ{str-loc}{(a \ \text{frozen)}}{
    \chamcnf{\phi}{\jloc{a}{D}{P}}{}
  }{
    \chamcnf{\phi}{}{}
    \champar
    \chamcnf{\phi a}{D}{P}
  }
  \\
  \chamred{move}{}{
    \chamcnf{\phi}{\jloc{a}{D}{P \jpar \jgo{b}{\kappa}}}{}
    \champar
    \chamcnf{\psi b}{}{}
  }{
    \chamcnf{\phi}{}{}
    \champar
    \chamcnf{\psi b}{\jloc{a}{D}{P \jpar \jsnd{\kappa}{}}}{}
  }
\end{align*}
