\usepackage{environ}
\usepackage{xargs}
\usepackage{ifthen}
\usepackage{xifthen}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{float}
\usepackage{bussproofs}


% TODO: one equation or multiple???
\NewEnviron{JFig}[1]{%
  \begin{figure}[H]
    \BODY
    \caption{#1}
  \end{figure}
}

\NewEnviron{JDef}[1]{%
  \begin{figure}[H]
    \begin{equation}
      \begin{split}
        \BODY
      \end{split}
    \end{equation}
    \caption{#1}
  \end{figure}
}

\newcommand{\grmr}{\ ::=&\ \ }
\newcommand{\altn}{\\ \big|&\ \ }
\newcommand{\alt}{\ \big|\ }

\newcommand{\reduction}{\longrightarrow}

% pi calculus
\newcommand{\pnullproc}{\textbf{0}}
\newcommand{\ppar}{\ |\ }
\newcommand{\prep}[1]{!#1}
\newcommand{\pnew}{\@ifstar{\@pnewp}{\@pnewn}}
\newcommand{\@pnewp}[2]{(\nu #1)\left(#2\right)}
\newcommand{\@pnewn}[2]{(\nu #1)#2}
\newcommand{\psnd}[2]{\overline{#1}#2}
\newcommand{\prcv}[2]{#1(#2)}
\newcommand{\pchc}{+}

% join calculus
\newcommand{\jsnd}[2]{#1\langle#2\rangle}
\newcommand{\jdef}[2]{\text{def} \ #1 \ \text{in} \ #2}
\newcommand{\jpar}{\ |\ }
\newcommand{\jnullproc}{\textbf{0}}
\newcommand{\jrct}[2]{#1 \vartriangleright #2}
\newcommand{\jcon}{\wedge}
\newcommand{\jnulldef}{\boldsymbol{\top}}
\newcommand{\jrcv}[2]{#1\langle#2\rangle}
\newcommand{\jpat}{\ |\ }

\newcommand{\bn}[1]{\operatorname{bn}\left(#1\right)}
\newcommand{\fn}[1]{\operatorname{fn}\left(#1\right)}
\newcommand{\names}[1]{\operatorname{n}\left(#1\right)}
\newcommand{\subst}[2]{\{#1 / #2\}}

\newcommand{\abbreviation}[2]{#1 \ \ &\text{for} \ \ #2}

% bussproofs
\newcommand{\infrule}[3]{%
  \begin{prooftree}
    \AxiomC{$#2$}
    \LeftLabel{\textsc{#1} : }
    \UnaryInfC{$#3$}
  \end{prooftree}
}
\newcommand{\infruleIII}[5]{
  \begin{prooftree}
    \AxiomC{$#2$}
    \AxiomC{$#3$}
    \AxiomC{$#4$}
    \LeftLabel{\textsc{#1} : }
    \TrinaryInfC{$#5$}
  \end{prooftree}
}
